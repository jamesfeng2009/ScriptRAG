============================= test session starts ==============================
platform darwin -- Python 3.12.11, pytest-9.0.1, pluggy-1.6.0 -- /opt/homebrew/Caskroom/miniconda/base/bin/python
cachedir: .pytest_cache
hypothesis profile 'default'
rootdir: /Users/fengyu/Downloads/myproject/workspace/agent-skills-demo
configfile: pyproject.toml
plugins: anyio-4.12.0, asyncio-1.3.0, langsmith-0.4.56, Faker-40.1.2, hypothesis-6.148.3
asyncio: mode=Mode.AUTO, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 371 items

tests/integration/test_end_to_end_workflow.py::test_complete_workflow_simple_outline PASSED [  0%]
tests/integration/test_end_to_end_workflow.py::test_workflow_with_multiple_steps PASSED [  0%]
tests/integration/test_end_to_end_workflow.py::test_workflow_agent_execution_order PASSED [  0%]
tests/integration/test_end_to_end_workflow.py::test_workflow_final_screenplay_structure PASSED [  1%]
tests/integration/test_end_to_end_workflow.py::test_workflow_state_consistency PASSED [  1%]
tests/integration/test_end_to_end_workflow.py::test_workflow_with_empty_retrieval PASSED [  1%]
tests/integration/test_end_to_end_workflow.py::test_workflow_logging_completeness PASSED [  1%]
tests/integration/test_hallucination_workflow.py::test_hallucination_detected_by_fact_checker FAILED [  2%]
tests/integration/test_hallucination_workflow.py::test_regeneration_triggered_on_hallucination FAILED [  2%]
tests/integration/test_hallucination_workflow.py::test_workflow_completes_after_regeneration FAILED [  2%]
tests/integration/test_hallucination_workflow.py::test_fact_checker_validation_logged FAILED [  2%]
tests/integration/test_hallucination_workflow.py::test_retry_count_incremented_on_hallucination FAILED [  3%]
tests/integration/test_hallucination_workflow.py::test_no_hallucinated_content_in_final_screenplay FAILED [  3%]
tests/integration/test_hallucination_workflow.py::test_fact_checker_compares_with_retrieved_docs FAILED [  3%]
tests/integration/test_hallucination_workflow.py::test_multiple_hallucinations_handled FAILED [  4%]
tests/integration/test_langgraph_workflow.py::test_orchestrator_initialization PASSED [  4%]
tests/integration/test_langgraph_workflow.py::test_graph_compilation PASSED [  4%]
tests/integration/test_langgraph_workflow.py::test_director_routing_pivot PASSED [  4%]
tests/integration/test_langgraph_workflow.py::test_director_routing_write PASSED [  5%]
tests/integration/test_langgraph_workflow.py::test_fact_check_and_completion_invalid FAILED [  5%]
tests/integration/test_langgraph_workflow.py::test_fact_check_and_completion_continue FAILED [  5%]
tests/integration/test_langgraph_workflow.py::test_fact_check_and_completion_done FAILED [  5%]
tests/integration/test_langgraph_workflow.py::test_simple_workflow_execution PASSED [  6%]
tests/integration/test_llm_provider_fallback.py::test_fallback_provider_used_on_primary_failure FAILED [  6%]
tests/integration/test_llm_provider_fallback.py::test_provider_switch_logged FAILED [  6%]
tests/integration/test_llm_provider_fallback.py::test_llm_call_logs_recorded FAILED [  7%]
tests/integration/test_llm_provider_fallback.py::test_workflow_completes_with_fallback_provider FAILED [  7%]
tests/integration/test_llm_provider_fallback.py::test_multiple_provider_failures_handled FAILED [  7%]
tests/integration/test_llm_provider_fallback.py::test_provider_failure_doesnt_halt_workflow FAILED [  7%]
tests/integration/test_llm_provider_fallback.py::test_response_time_logged_for_llm_calls FAILED [  8%]
tests/integration/test_llm_provider_fallback.py::test_token_count_tracked_for_llm_calls FAILED [  8%]
tests/integration/test_llm_provider_fallback.py::test_all_providers_fail_gracefully PASSED [  8%]
tests/integration/test_pivot_workflow.py::test_pivot_triggered_on_deprecation_conflict FAILED [  8%]
tests/integration/test_pivot_workflow.py::test_outline_modified_after_pivot FAILED [  9%]
tests/integration/test_pivot_workflow.py::test_re_retrieval_after_pivot FAILED [  9%]
tests/integration/test_pivot_workflow.py::test_pivot_loop_completes_successfully FAILED [  9%]
tests/integration/test_pivot_workflow.py::test_skill_switch_to_warning_mode FAILED [  9%]
tests/integration/test_pivot_workflow.py::test_pivot_reason_logged FAILED [ 10%]
tests/integration/test_pivot_workflow.py::test_multiple_pivots_handled FAILED [ 10%]
tests/integration/test_retry_limit_workflow.py::test_retry_limit_enforced_after_max_attempts FAILED [ 10%]
tests/integration/test_retry_limit_workflow.py::test_forced_degradation_skips_step FAILED [ 11%]
tests/integration/test_retry_limit_workflow.py::test_workflow_continues_after_skip FAILED [ 11%]
tests/integration/test_retry_limit_workflow.py::test_retry_attempts_logged FAILED [ 11%]
tests/integration/test_retry_limit_workflow.py::test_placeholder_fragment_for_skipped_step FAILED [ 11%]
tests/integration/test_retry_limit_workflow.py::test_no_infinite_loop_on_repeated_conflicts FAILED [ 12%]
tests/integration/test_retry_limit_workflow.py::test_retry_count_incremented_correctly FAILED [ 12%]
tests/integration/test_retry_limit_workflow.py::test_degradation_action_logged FAILED [ 12%]
tests/integration/test_retry_limit_workflow.py::test_final_screenplay_produced_despite_skips FAILED [ 12%]
tests/integration/test_skills_integration.py::TestSkillsWithSharedState::test_shared_state_with_default_skill PASSED [ 13%]
tests/integration/test_skills_integration.py::TestSkillsWithSharedState::test_shared_state_skill_switching PASSED [ 13%]
tests/integration/test_skills_integration.py::TestSkillsWithSharedState::test_shared_state_with_global_tone PASSED [ 13%]
tests/integration/test_skills_integration.py::TestSkillsWithSharedState::test_skill_manager_with_state_workflow PASSED [ 14%]
tests/integration/test_skills_integration.py::TestSkillsWithSharedState::test_retrieval_config_with_workflow PASSED [ 14%]
tests/integration/test_skills_integration.py::TestSkillsWithSharedState::test_complex_skill_switching_scenario PASSED [ 14%]
tests/integration/test_skills_integration.py::TestSkillManagerExtensibility::test_register_custom_skill_for_domain PASSED [ 14%]
tests/integration/test_skills_integration.py::TestSkillManagerExtensibility::test_skill_manager_isolation PASSED [ 15%]
tests/property/test_agent_execution_order.py::test_successful_tests_verify_agent_execution_order PASSED [ 15%]
tests/property/test_agent_execution_order.py::test_agent_sequence_is_consistent_across_limits PASSED [ 15%]
tests/property/test_agent_execution_order.py::test_agent_order_holds_for_different_complexities PASSED [ 15%]
tests/property/test_approval_trigger_generation.py::test_property_approval_triggers_generation PASSED [ 16%]
tests/property/test_approval_trigger_generation.py::test_property_generation_with_empty_retrieval PASSED [ 16%]
tests/property/test_approval_trigger_generation.py::test_property_generation_failure_fallback PASSED [ 16%]
tests/property/test_approval_trigger_generation.py::test_property_generation_at_end_of_outline PASSED [ 16%]
tests/property/test_complexity_style_switch.py::TestComplexityStyleSwitch::test_property_11_high_complexity_triggers_switch PASSED [ 17%]
tests/property/test_complexity_style_switch.py::TestComplexityStyleSwitch::test_property_11_low_complexity_no_switch PASSED [ 17%]
tests/property/test_complexity_style_switch.py::TestComplexityStyleSwitch::test_property_11_complexity_score_range PASSED [ 17%]
tests/property/test_complexity_style_switch.py::TestComplexityStyleSwitch::test_property_11_empty_docs_zero_complexity PASSED [ 18%]
tests/property/test_complexity_style_switch.py::TestComplexityStyleSwitch::test_property_11_llm_failure_fallback PASSED [ 18%]
tests/property/test_complexity_style_switch.py::TestComplexityStyleSwitch::test_property_11_invalid_llm_response_fallback PASSED [ 18%]
tests/property/test_complexity_style_switch.py::TestComplexityStyleSwitch::test_property_11_director_decision_logging PASSED [ 18%]
tests/property/test_comprehensive_logging.py::TestComprehensiveLogging::test_agent_transition_logging PASSED [ 19%]
tests/property/test_comprehensive_logging.py::TestComprehensiveLogging::test_pivot_trigger_logging PASSED [ 19%]
tests/property/test_comprehensive_logging.py::TestComprehensiveLogging::test_retrieval_result_logging PASSED [ 19%]
tests/property/test_comprehensive_logging.py::TestComprehensiveLogging::test_skill_switch_logging PASSED [ 19%]
tests/property/test_comprehensive_logging.py::TestComprehensiveLogging::test_fact_check_result_logging PASSED [ 20%]
tests/property/test_comprehensive_logging.py::TestComprehensiveLogging::test_retry_attempt_logging PASSED [ 20%]
tests/property/test_comprehensive_logging.py::TestComprehensiveLogging::test_degradation_logging PASSED [ 20%]
tests/property/test_comprehensive_logging.py::TestComprehensiveLogging::test_error_logging_with_stack_trace PASSED [ 21%]
tests/property/test_deprecation_conflict.py::TestDeprecationConflictDetection::test_property_9_deprecation_conflict_detected PASSED [ 21%]
tests/property/test_deprecation_conflict.py::TestDeprecationConflictDetection::test_property_9_no_conflict_without_deprecated PASSED [ 21%]
tests/property/test_deprecation_conflict.py::TestDeprecationConflictDetection::test_property_9_security_issue_detected PASSED [ 21%]
tests/property/test_deprecation_conflict.py::TestDeprecationConflictDetection::test_property_9_fixme_issue_detected PASSED [ 22%]
tests/property/test_deprecation_conflict.py::TestDeprecationConflictDetection::test_property_9_empty_docs_no_conflict PASSED [ 22%]
tests/property/test_deprecation_conflict.py::TestDeprecationConflictDetection::test_property_9_multiple_conflicts_priority PASSED [ 22%]
tests/property/test_deprecation_conflict.py::TestDeprecationConflictDetection::test_property_9_conflict_details_format PASSED [ 22%]
tests/property/test_director_approval_prevents_pivot.py::test_director_always_approves_prevents_pivot PASSED [ 23%]
tests/property/test_director_evaluation_gate.py::TestDirectorEvaluationGate::test_property_19_director_evaluates_every_step PASSED [ 23%]
tests/property/test_director_evaluation_gate.py::TestDirectorEvaluationGate::test_property_19_director_makes_decision PASSED [ 23%]
tests/property/test_director_evaluation_gate.py::TestDirectorEvaluationGate::test_property_19_pivot_flag_consistency PASSED [ 23%]
tests/property/test_director_evaluation_gate.py::TestDirectorEvaluationGate::test_property_19_evaluation_details_logged PASSED [ 24%]
tests/property/test_director_evaluation_gate.py::TestDirectorEvaluationGate::test_property_19_no_current_step_graceful PASSED [ 24%]
tests/property/test_director_evaluation_gate.py::TestDirectorEvaluationGate::test_property_19_llm_failure_graceful PASSED [ 24%]
tests/property/test_director_evaluation_gate.py::TestDirectorEvaluationGate::test_property_19_state_immutability_except_updates PASSED [ 25%]
tests/property/test_dynamic_skill_switch.py::test_skill_switch_updates_state PASSED [ 25%]
tests/property/test_dynamic_skill_switch.py::test_pivot_triggers_skill_switch PASSED [ 25%]
tests/property/test_dynamic_skill_switch.py::test_multiple_skill_switches_tracked PASSED [ 25%]
tests/property/test_dynamic_skill_switch.py::test_skill_switch_idempotent_for_same_skill PASSED [ 26%]
tests/property/test_dynamic_skill_switch.py::test_invalid_skill_raises_error PASSED [ 26%]
tests/property/test_dynamic_skill_switch.py::test_deprecation_conflict_switches_to_warning_mode PASSED [ 26%]
tests/property/test_dynamic_skill_switch.py::test_high_complexity_switches_to_visualization PASSED [ 26%]
tests/property/test_dynamic_skill_switch.py::test_low_complexity_switches_to_standard PASSED [ 27%]
tests/property/test_dynamic_skill_switch.py::test_missing_info_switches_to_research_mode PASSED [ 27%]
tests/property/test_dynamic_skill_switch.py::test_skill_history_preserves_chronological_order PASSED [ 27%]
tests/property/test_embedding_generation.py::TestEmbeddingGeneration::test_property_23_embedding_generation PASSED [ 28%]
tests/property/test_embedding_generation.py::TestEmbeddingGeneration::test_embedding_dimension_consistency PASSED [ 28%]
tests/property/test_embedding_generation.py::TestEmbeddingGeneration::test_embedding_determinism PASSED [ 28%]
tests/property/test_error_message_clarity.py::test_error_messages_are_clear_and_specific PASSED [ 28%]
tests/property/test_error_message_clarity.py::test_missing_key_error_messages_are_specific PASSED [ 29%]
tests/property/test_error_message_clarity.py::test_value_mismatch_error_messages_show_both_values PASSED [ 29%]
tests/property/test_fact_check_prevents_regeneration.py::test_valid_fact_check_prevents_regeneration PASSED [ 29%]
tests/property/test_graceful_component_failure.py::TestGracefulComponentFailure::test_component_failure_does_not_crash PASSED [ 29%]
tests/property/test_graceful_component_failure.py::TestGracefulComponentFailure::test_multiple_failures_do_not_crash PASSED [ 30%]
tests/property/test_graceful_component_failure.py::TestGracefulComponentFailure::test_failure_logging PASSED [ 30%]
tests/property/test_graceful_component_failure.py::TestGracefulComponentFailure::test_exponential_backoff_retry PASSED [ 30%]
tests/property/test_hallucination_detection.py::TestHallucinationDetection::test_property_14_no_hallucination_detected PASSED [ 30%]
tests/property/test_hallucination_detection.py::TestHallucinationDetection::test_property_14_hallucination_detected PASSED [ 31%]
tests/property/test_hallucination_detection.py::TestHallucinationDetection::test_property_14_empty_docs_validation PASSED [ 31%]
tests/property/test_hallucination_detection.py::TestHallucinationDetection::test_property_14_hallucination_list_format PASSED [ 31%]
tests/property/test_hallucination_detection.py::TestHallucinationDetection::test_property_14_function_definition_hallucination PASSED [ 32%]
tests/property/test_hallucination_detection.py::TestHallucinationDetection::test_property_14_function_call_hallucination PASSED [ 32%]
tests/property/test_hallucination_detection.py::TestHallucinationDetection::test_property_14_class_reference_hallucination PASSED [ 32%]
tests/property/test_hallucination_detection.py::TestHallucinationDetection::test_property_14_multiple_hallucinations PASSED [ 32%]
tests/property/test_hallucination_detection.py::TestHallucinationDetection::test_property_14_valid_references PASSED [ 33%]
tests/property/test_hallucination_detection.py::TestHallucinationDetection::test_property_14_verification_consistency PASSED [ 33%]
tests/property/test_hallucination_regeneration.py::TestHallucinationRegeneration::test_property_15_invalid_fragment_removed PASSED [ 33%]
tests/property/test_hallucination_regeneration.py::TestHallucinationRegeneration::test_property_15_retry_count_incremented PASSED [ 33%]
tests/property/test_hallucination_regeneration.py::TestHallucinationRegeneration::test_property_15_fact_check_passed_flag_set PASSED [ 34%]
tests/property/test_hallucination_regeneration.py::TestHallucinationRegeneration::test_property_15_valid_fragment_kept PASSED [ 34%]
tests/property/test_hallucination_regeneration.py::TestHallucinationRegeneration::test_property_15_valid_fragment_no_retry_increment PASSED [ 34%]
tests/property/test_hallucination_regeneration.py::TestHallucinationRegeneration::test_property_15_valid_fragment_fact_check_passed PASSED [ 35%]
tests/property/test_hallucination_regeneration.py::TestHallucinationRegeneration::test_property_15_empty_fragments_handling PASSED [ 35%]
tests/property/test_hallucination_regeneration.py::TestHallucinationRegeneration::test_property_15_step_status_reset PASSED [ 35%]
tests/property/test_hallucination_regeneration.py::TestHallucinationRegeneration::test_property_15_logging PASSED [ 35%]
tests/property/test_hallucination_regeneration.py::TestHallucinationRegeneration::test_property_15_llm_error_graceful_degradation PASSED [ 36%]
tests/property/test_hallucination_regeneration.py::TestHallucinationRegeneration::test_property_15_retry_count_accumulation PASSED [ 36%]
tests/property/test_hybrid_retrieval.py::TestHybridRetrievalIntegrity::test_property_3_hybrid_retrieval_integrity PASSED [ 36%]
tests/property/test_hybrid_retrieval.py::TestHybridRetrievalIntegrity::test_hybrid_retrieval_combines_sources PASSED [ 36%]
tests/property/test_hybrid_retrieval.py::TestHybridRetrievalIntegrity::test_hybrid_retrieval_applies_weights PASSED [ 37%]
tests/property/test_hybrid_retrieval.py::TestHybridRetrievalIntegrity::test_hybrid_retrieval_respects_top_k PASSED [ 37%]
tests/property/test_metadata_extraction.py::TestMetadataExtraction::test_property_4_metadata_extraction_integrity PASSED [ 37%]
tests/property/test_metadata_extraction.py::TestMetadataExtraction::test_property_25_code_structure_extraction PASSED [ 38%]
tests/property/test_metadata_extraction.py::TestMetadataExtraction::test_property_26_parse_failure_fallback PASSED [ 38%]
tests/property/test_mock_llm_director.py::test_director_complexity_response_is_numeric PASSED [ 38%]
tests/property/test_mock_llm_director.py::test_director_evaluation_response_is_exact PASSED [ 38%]
tests/property/test_mock_llm_fact_checker.py::test_fact_checker_response_format PASSED [ 39%]
tests/property/test_mock_llm_planner.py::test_planner_response_matches_chinese_format PASSED [ 39%]
tests/property/test_mock_llm_writer.py::test_writer_response_has_minimum_length PASSED [ 39%]
tests/property/test_navigator_agent.py::TestNavigatorAgent::test_property_6_source_provenance_tracking PASSED [ 39%]
tests/property/test_navigator_agent.py::TestNavigatorAgent::test_property_18_per_step_retrieval PASSED [ 40%]
tests/property/test_navigator_agent.py::TestNavigatorAgent::test_edge_case_1_empty_retrieval_no_hallucination PASSED [ 40%]
tests/property/test_outline_modification_persistence.py::TestOutlineModificationPersistence::test_property_2_add_step_persistence PASSED [ 40%]
tests/property/test_outline_modification_persistence.py::TestOutlineModificationPersistence::test_property_2_update_step_persistence PASSED [ 40%]
tests/property/test_outline_modification_persistence.py::TestOutlineModificationPersistence::test_property_2_remove_step_persistence PASSED [ 41%]
tests/property/test_outline_modification_persistence.py::TestOutlineModificationPersistence::test_property_2_multiple_modifications_persistence PASSED [ 41%]
tests/property/test_outline_modification_persistence.py::TestOutlineModificationPersistence::test_property_2_step_status_transition_persistence PASSED [ 41%]
tests/property/test_outline_modification_persistence.py::TestOutlineModificationPersistence::test_property_2_retry_count_increment_persistence PASSED [ 42%]
tests/property/test_outline_modification_persistence.py::TestOutlineModificationPersistence::test_property_2_outline_replacement_persistence PASSED [ 42%]
tests/property/test_outline_modification_persistence.py::TestOutlineModificationPersistence::test_property_2_pivot_triggered_outline_modification PASSED [ 42%]
tests/property/test_outline_modification_persistence.py::TestOutlineModificationPersistence::test_property_2_outline_modification_with_state_copy PASSED [ 42%]
tests/property/test_pivot_deprecation.py::test_deprecation_pivot_modifies_current_step PASSED [ 43%]
tests/property/test_pivot_deprecation.py::test_deprecation_pivot_switches_to_warning_mode PASSED [ 43%]
tests/property/test_pivot_deprecation.py::test_deprecation_pivot_clears_retrieved_docs PASSED [ 43%]
tests/property/test_pivot_deprecation.py::test_deprecation_pivot_updates_subsequent_steps PASSED [ 43%]
tests/property/test_pivot_deprecation.py::test_pivot_resets_trigger_flag PASSED [ 44%]
tests/property/test_pivot_deprecation.py::test_pivot_adds_log_entry PASSED [ 44%]
tests/property/test_pivot_deprecation.py::test_deprecation_pivot_example PASSED [ 44%]
tests/property/test_pivot_deprecation.py::test_no_pivot_trigger_returns_unchanged PASSED [ 45%]
tests/property/test_pivot_deprecation.py::test_pivot_without_reason_raises_error PASSED [ 45%]
tests/property/test_pivot_retrieval.py::test_pivot_clears_retrieved_documents PASSED [ 45%]
tests/property/test_pivot_retrieval.py::test_all_pivot_reasons_trigger_retrieval PASSED [ 45%]
tests/property/test_pivot_retrieval.py::test_pivot_enables_context_update PASSED [ 46%]
tests/property/test_pivot_retrieval.py::test_multiple_pivots_always_clear_docs PASSED [ 46%]
tests/property/test_pivot_retrieval.py::test_deprecation_pivot_clears_docs PASSED [ 46%]
tests/property/test_pivot_retrieval.py::test_complexity_pivot_clears_docs PASSED [ 46%]
tests/property/test_pivot_retrieval.py::test_missing_info_pivot_clears_docs PASSED [ 47%]
tests/property/test_pivot_retrieval.py::test_empty_docs_remain_empty PASSED [ 47%]
tests/property/test_pivot_retrieval.py::test_pivot_log_mentions_retrieval PASSED [ 47%]
tests/property/test_realistic_mock_data.py::test_mock_data_contains_realistic_python_patterns PASSED [ 47%]
tests/property/test_realistic_mock_data.py::test_mock_data_contains_multiple_pattern_types PASSED [ 48%]
tests/property/test_realistic_mock_data.py::test_mock_data_has_realistic_file_paths PASSED [ 48%]
tests/property/test_realistic_mock_data.py::test_mock_data_file_paths_are_valid PASSED [ 48%]
tests/property/test_realistic_mock_data.py::test_mock_data_contains_referenced_functions PASSED [ 49%]
tests/property/test_realistic_mock_data.py::test_heuristic_verification_passes_with_complete_mock_data PASSED [ 49%]
tests/property/test_realistic_mock_data.py::test_heuristic_verification_detects_hallucinations PASSED [ 49%]
tests/property/test_recursion_limit_error_handling.py::test_recursion_limit_exceeded_raises_clear_error PASSED [ 49%]
tests/property/test_recursion_limit_error_handling.py::test_recursion_error_handling_with_various_messages PASSED [ 50%]
tests/property/test_recursion_limit_error_handling.py::test_recursion_error_preserves_execution_state PASSED [ 50%]
tests/property/test_recursion_limit_error_handling.py::test_non_recursion_errors_handled_differently PASSED [ 50%]
tests/property/test_recursion_limit_propagation.py::test_recursion_limit_propagates_to_langgraph FAILED [ 50%]
tests/property/test_recursion_limit_propagation.py::test_recursion_limit_propagation_with_various_topics PASSED [ 51%]
tests/property/test_recursion_limit_propagation.py::test_recursion_limit_default_propagation PASSED [ 51%]
tests/property/test_research_mode_activation.py::test_property_research_mode_activation PASSED [ 51%]
tests/property/test_research_mode_activation.py::test_property_research_mode_content_requirements PASSED [ 52%]
tests/property/test_research_mode_activation.py::test_property_research_mode_user_input_resume PASSED [ 52%]
tests/property/test_research_mode_activation.py::test_property_research_mode_multiple_empty_steps PASSED [ 52%]
tests/property/test_retry_limit_edge_cases.py::TestRetryLimitEdgeCases::test_edge_case_2_exactly_at_limit PASSED [ 52%]
tests/property/test_retry_limit_edge_cases.py::TestRetryLimitEdgeCases::test_edge_case_2_one_below_limit PASSED [ 53%]
tests/property/test_retry_limit_edge_cases.py::TestRetryLimitEdgeCases::test_edge_case_2_one_above_limit PASSED [ 53%]
tests/property/test_retry_limit_edge_cases.py::TestRetryLimitEdgeCases::test_edge_case_2_zero_retries PASSED [ 53%]
tests/property/test_retry_limit_edge_cases.py::TestRetryLimitEdgeCases::test_edge_case_2_max_retries_one PASSED [ 53%]
tests/property/test_retry_limit_edge_cases.py::TestRetryLimitEdgeCases::test_edge_case_2_max_retries_ten PASSED [ 54%]
tests/property/test_retry_limit_edge_cases.py::TestRetryLimitEdgeCases::test_edge_case_2_boundary_transition PASSED [ 54%]
tests/property/test_retry_limit_edge_cases.py::TestRetryLimitEdgeCases::test_edge_case_2_multiple_steps_at_boundary PASSED [ 54%]
tests/property/test_retry_limit_edge_cases.py::TestRetryLimitEdgeCases::test_edge_case_2_very_high_retry_count PASSED [ 54%]
tests/property/test_retry_limit_edge_cases.py::TestRetryLimitEdgeCases::test_edge_case_2_boundary_with_pivot_triggered PASSED [ 55%]
tests/property/test_retry_limit_edge_cases.py::TestRetryLimitEdgeCases::test_edge_case_2_boundary_last_step_in_outline PASSED [ 55%]
tests/property/test_retry_limit_edge_cases.py::TestRetryLimitEdgeCases::test_edge_case_2_sequential_boundary_checks PASSED [ 55%]
tests/property/test_retry_limit_edge_cases.py::TestRetryLimitEdgeCases::test_edge_case_2_parametrized_boundaries[1-0-False] PASSED [ 56%]
tests/property/test_retry_limit_edge_cases.py::TestRetryLimitEdgeCases::test_edge_case_2_parametrized_boundaries[1-1-True] PASSED [ 56%]
tests/property/test_retry_limit_edge_cases.py::TestRetryLimitEdgeCases::test_edge_case_2_parametrized_boundaries[1-2-True] PASSED [ 56%]
tests/property/test_retry_limit_edge_cases.py::TestRetryLimitEdgeCases::test_edge_case_2_parametrized_boundaries[3-2-False] PASSED [ 56%]
tests/property/test_retry_limit_edge_cases.py::TestRetryLimitEdgeCases::test_edge_case_2_parametrized_boundaries[3-3-True] PASSED [ 57%]
tests/property/test_retry_limit_edge_cases.py::TestRetryLimitEdgeCases::test_edge_case_2_parametrized_boundaries[3-4-True] PASSED [ 57%]
tests/property/test_retry_limit_edge_cases.py::TestRetryLimitEdgeCases::test_edge_case_2_parametrized_boundaries[5-4-False] PASSED [ 57%]
tests/property/test_retry_limit_edge_cases.py::TestRetryLimitEdgeCases::test_edge_case_2_parametrized_boundaries[5-5-True] PASSED [ 57%]
tests/property/test_retry_limit_edge_cases.py::TestRetryLimitEdgeCases::test_edge_case_2_parametrized_boundaries[5-6-True] PASSED [ 58%]
tests/property/test_retry_limit_edge_cases.py::TestRetryLimitEdgeCases::test_edge_case_2_parametrized_boundaries[10-9-False] PASSED [ 58%]
tests/property/test_retry_limit_edge_cases.py::TestRetryLimitEdgeCases::test_edge_case_2_parametrized_boundaries[10-10-True] PASSED [ 58%]
tests/property/test_retry_limit_enforcement.py::TestRetryLimitEnforcement::test_property_13_retry_limit_forces_skip PASSED [ 59%]
tests/property/test_retry_limit_enforcement.py::TestRetryLimitEnforcement::test_property_13_retry_limit_advances_step PASSED [ 59%]
tests/property/test_retry_limit_enforcement.py::TestRetryLimitEnforcement::test_property_13_retry_limit_logs_action PASSED [ 59%]
tests/property/test_retry_limit_enforcement.py::TestRetryLimitEnforcement::test_property_13_below_limit_no_skip PASSED [ 59%]
tests/property/test_retry_limit_enforcement.py::TestRetryLimitEnforcement::test_property_13_placeholder_fragment_structure PASSED [ 60%]
tests/property/test_retry_limit_enforcement.py::TestRetryLimitEnforcement::test_property_13_multiple_steps_exceed_limit PASSED [ 60%]
tests/property/test_retry_limit_enforcement.py::TestRetryLimitEnforcement::test_property_13_last_step_exceeded PASSED [ 60%]
tests/property/test_retry_limit_enforcement.py::TestRetryLimitEnforcement::test_property_13_pivot_cleared_on_skip PASSED [ 60%]
tests/property/test_retry_limit_enforcement.py::TestRetryLimitEnforcement::test_property_13_idempotent_check PASSED [ 61%]
tests/property/test_retry_limit_enforcement.py::TestRetryLimitEnforcement::test_property_13_retry_count_preserved PASSED [ 61%]
tests/property/test_sequential_step_processing.py::test_sequential_step_processing_property PASSED [ 61%]
tests/property/test_sequential_step_processing.py::test_no_step_skipping_property PASSED [ 61%]
tests/property/test_sequential_step_processing.py::test_step_index_never_decreases_property PASSED [ 62%]
tests/property/test_sequential_step_processing.py::test_fragment_order_matches_step_order_property PASSED [ 62%]
tests/property/test_shared_state_consistency.py::TestSharedStateConsistency::test_property_1_log_entry_visibility PASSED [ 62%]
tests/property/test_shared_state_consistency.py::TestSharedStateConsistency::test_property_1_outline_modification_visibility PASSED [ 63%]
tests/property/test_shared_state_consistency.py::TestSharedStateConsistency::test_property_1_retrieved_docs_modification_visibility PASSED [ 63%]
tests/property/test_shared_state_consistency.py::TestSharedStateConsistency::test_property_1_fragment_modification_visibility PASSED [ 63%]
tests/property/test_shared_state_consistency.py::TestSharedStateConsistency::test_property_1_control_signal_modification_visibility PASSED [ 63%]
tests/property/test_shared_state_consistency.py::TestSharedStateConsistency::test_property_1_skill_modification_visibility PASSED [ 64%]
tests/property/test_shared_state_consistency.py::TestSharedStateConsistency::test_property_1_step_index_modification_visibility PASSED [ 64%]
tests/property/test_shared_state_consistency.py::TestSharedStateConsistency::test_property_1_deep_copy_independence PASSED [ 64%]
tests/property/test_shared_state_consistency.py::TestSharedStateConsistency::test_property_1_updated_at_timestamp_consistency PASSED [ 64%]
tests/property/test_skill_compatibility.py::test_skill_compatibility_enforcement PASSED [ 65%]
tests/property/test_skill_compatibility.py::test_incompatible_switch_returns_compatible_skill PASSED [ 65%]
tests/property/test_skill_compatibility.py::test_tone_preference_respected PASSED [ 65%]
tests/property/test_skill_compatibility.py::test_same_skill_switch_is_noop PASSED [ 66%]
tests/property/test_skill_compatibility.py::test_invalid_current_skill_raises_error PASSED [ 66%]
tests/property/test_skill_compatibility.py::test_invalid_desired_skill_raises_error PASSED [ 66%]
tests/property/test_skill_compatibility.py::test_compatible_switch_standard_to_warning PASSED [ 66%]
tests/property/test_skill_compatibility.py::test_incompatible_switch_warning_to_meme PASSED [ 67%]
tests/property/test_skill_compatibility.py::test_tone_preference_professional PASSED [ 67%]
tests/property/test_skill_consistent_generation.py::test_property_skill_consistent_generation PASSED [ 67%]
tests/property/test_skill_consistent_generation.py::test_property_skill_empty_retrieval_handling PASSED [ 67%]
tests/property/test_skill_consistent_generation.py::test_property_skill_fallback_for_invalid_skill PASSED [ 68%]
tests/property/test_skill_consistent_generation.py::test_property_skill_document_limit PASSED [ 68%]
tests/property/test_skill_consistent_generation.py::test_property_skill_source_attribution PASSED [ 68%]
tests/property/test_summarization.py::TestSummarization::test_property_5_size_based_summarization PASSED [ 69%]
tests/property/test_summarization.py::TestSummarization::test_edge_case_3_token_threshold_boundary PASSED [ 69%]
tests/property/test_summarization.py::TestSummarization::test_summarization_preserves_key_info PASSED [ 69%]
tests/property/test_summarization.py::TestSummarization::test_small_documents_not_summarized PASSED [ 69%]
tests/property/test_vector_search.py::TestVectorSearchExecution::test_property_24_vector_search_execution PASSED [ 70%]
tests/property/test_vector_search.py::TestVectorSearchExecution::test_search_respects_top_k_limit PASSED [ 70%]
tests/property/test_vector_search.py::TestVectorSearchExecution::test_search_respects_similarity_threshold PASSED [ 70%]
tests/property/test_vector_search.py::TestVectorSearchExecution::test_search_results_sorted_by_similarity PASSED [ 70%]
tests/unit/test_commercial_features.py::TestMultiTenantService::test_get_tenant PASSED [ 71%]
tests/unit/test_commercial_features.py::TestMultiTenantService::test_create_tenant PASSED [ 71%]
tests/unit/test_commercial_features.py::TestMultiTenantService::test_validate_tenant_access PASSED [ 71%]
tests/unit/test_commercial_features.py::TestQuotaManager::test_get_current_usage PASSED [ 71%]
tests/unit/test_commercial_features.py::TestQuotaManager::test_increment_usage PASSED [ 72%]
tests/unit/test_commercial_features.py::TestQuotaManager::test_quota_exceeded PASSED [ 72%]
tests/unit/test_commercial_features.py::TestAuditLogger::test_log_audit_event PASSED [ 72%]
tests/unit/test_commercial_features.py::TestAuditLogger::test_query_logs PASSED [ 73%]
tests/unit/test_commercial_features.py::TestRedisCacheService::test_cache_key_generation PASSED [ 73%]
tests/unit/test_commercial_features.py::TestRedisCacheService::test_content_hashing PASSED [ 73%]
tests/unit/test_commercial_features.py::TestRedisCacheService::test_cache_operations_without_connection PASSED [ 73%]
tests/unit/test_commercial_features.py::test_tenant_context PASSED       [ 74%]
tests/unit/test_compiler.py::TestCompilerAgent::test_compile_screenplay_success PASSED [ 74%]
tests/unit/test_compiler.py::TestCompilerAgent::test_compile_screenplay_empty_fragments PASSED [ 74%]
tests/unit/test_compiler.py::TestCompilerAgent::test_compile_screenplay_fallback_on_error PASSED [ 74%]
tests/unit/test_compiler.py::TestCompilerAgent::test_compile_screenplay_fragment_ordering PASSED [ 75%]
tests/unit/test_compiler.py::TestCompilationPrompt::test_build_compilation_prompt_with_context PASSED [ 75%]
tests/unit/test_compiler.py::TestCompilationPrompt::test_build_compilation_prompt_without_context PASSED [ 75%]
tests/unit/test_compiler.py::TestCompilationPrompt::test_build_compilation_prompt_multiple_fragments PASSED [ 76%]
tests/unit/test_compiler.py::TestEmptyScreenplay::test_generate_empty_screenplay_with_context PASSED [ 76%]
tests/unit/test_compiler.py::TestEmptyScreenplay::test_generate_empty_screenplay_without_context PASSED [ 76%]
tests/unit/test_compiler.py::TestFallbackCompilation::test_fallback_compilation_basic PASSED [ 76%]
tests/unit/test_compiler.py::TestFallbackCompilation::test_fallback_compilation_with_context PASSED [ 77%]
tests/unit/test_compiler.py::TestFallbackCompilation::test_fallback_compilation_many_sources PASSED [ 77%]
tests/unit/test_compiler.py::TestFallbackCompilation::test_fallback_compilation_summary PASSED [ 77%]
tests/unit/test_llm_service.py::test_llm_provider_config_creation PASSED [ 77%]
tests/unit/test_llm_service.py::test_model_mapping_creation PASSED       [ 78%]
tests/unit/test_llm_service.py::test_openai_adapter_initialization PASSED [ 78%]